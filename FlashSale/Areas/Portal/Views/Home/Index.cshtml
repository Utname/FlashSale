@model FlashSale.Areas.Portal.Model.HomeModel

@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Portal/Views/Shared/_Layout.cshtml";
}
<style>
    .special-product-active2 .owl-item {
        width: 25% !important; /* Each item takes up 25% of the carousel container's width */
        max-width: 300px; /* Optionally, set a max-width for each item */
        min-width: 250px; /* Optionally, set a min-width for each item */
    }

    .special-product-active2 .owl-stage {
        display: flex;
        justify-content: flex-start;
        align-items: center;
    }

    .special-product-active2 .owl-stage-outer {
        overflow: hidden; /* Ensure the carousel doesn't stretch */
    }


    .special-product-active2 .owl-item {
        width: 25% !important; /* Each item takes up 25% of the carousel container's width */
        max-width: 300px; /* Optionally, set a max-width for each item */
        min-width: 250px; /* Optionally, set a min-width for each item */
    }

    .product-active2 .owl-stage {
        display: flex;
        justify-content: flex-start;
        align-items: center;
    }

    .product-active2 .owl-stage-outer {
        overflow: hidden; /* Ensure the carousel doesn't stretch */
    }

    .product-active2 .owl-item {
        width: 20% !important; /* Each item takes up 25% of the carousel container's width */
        max-width: 300px; /* Optionally, set a max-width for each item */
        min-width: 250px; /* Optionally, set a min-width for each item */
    }
</style>
<!-- Begin Slider With Category Menu Area -->
<div class="slider-with-banner">
    <div class="container">
        <div class="row">
            <!-- Begin Category Menu Area -->
            <div class="col-lg-3">
                <!--Category Menu Start-->
                <div class="category-menu">
                    <div class="category-heading">
                        <h2 class="categories-toggle"><span>Nhóm sản phẩm</span></h2>
                    </div>
                    <div id="cate-toggle" class="category-menu-list">
                        <ul>
                            @foreach (var group in Model.listMenuGroupProduct)
                            {
                                <li class="right-menu">
                                    <a href="shop-left-sidebar.html" style="font-weight:bold">@group.Name</a>
                                    <ul class="cat-mega-menu">
                                        <li class="right-menu cat-mega-title">
                                            <ul>
                                                @foreach (var item2 in group.listTypeProduct)
                                                {
                                                    <li><a href="#" style="font-weight:bold">@item2.name</a></li>
                                                }
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                            }

                            @foreach (var group in Model.listMenuGroupProductMore)
                            {
                                <li class="right-menu rx-child">
                                    <a href="shop-left-sidebar.html" style="font-weight:bold">@group.Name</a>
                                    <ul class="cat-mega-menu">
                                        <li class="right-menu cat-mega-title">
                                            <ul>
                                                @foreach (var item2 in group.listTypeProduct)
                                                {
                                                    <li><a href="#" style="font-weight:bold">@item2.name</a></li>
                                                }
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                            }

                            <li class="rx-parent">
                                <a class="rx-default">Xem thêm</a>
                                <a class="rx-show">Ẩn bớt</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <!--Category Menu End-->
            </div>
            <!-- Category Menu Area End Here -->
            <!-- Begin Slider Area -->
            <div class="col-lg-9">
                <div class="slider-area pt-sm-30 pt-xs-30">
                    <div class="slider-active owl-carousel">
                        <!-- Begin Single Slide Area -->

                        @foreach (var banner in Model.listBanner)
                        {

                            <div class="single-slide align-center-left animation-style-02 bg-4 " style="background-image: url('@Url.Content(banner.Image)')
                                        ;background-repeat: no-repeat;
                                        background-position: center center;
                                        background-size: cover;
                                        min-height: 475px;
                                        width: 100%;
                                ">
                                <div class="slider-progress"></div>
                                <div class="slider-content">
                                    @Html.Raw(banner.Description)
                                    <div class="default-btn slide-btn">
                                        <a class="links" href="shop-left-sidebar.html">Shopping Now</a>
                                    </div>
                                </div>
                            </div>
                        }

                    </div>
                </div>
            </div>
            <!-- Slider Area End Here -->
        </div>
    </div>
</div>
<!-- Slider With Category Menu Area End Here -->
<!-- Begin Li's Static Banner Area -->
<div class="li-static-banner pt-20 pt-sm-30 pt-xs-30">
    <div class="container">
        <div class="row">

            @foreach (var adBanner in Model.listAdvertisementBanner)
            {
                <div class="col-lg-4 col-md-4">
                    <div class="single-banner pb-xs-30">
                        <a href="#">
                            <img src="@adBanner.Image" alt="Li's Static Banner">
                        </a>
                    </div>
                </div>
            }
          
        </div>
    </div>
</div>
<!-- Begin Li's Special Product Area -->
<section class="product-area li-laptop-product Special-product pt-60 pb-45">
    <div class="container">
        <div class="row">
            <!-- Begin Li's Section Area -->
            <div class="col-lg-12">
                <div class="li-section-title">
                    <h2>
                        <span>Hot Sales</span>
                    </h2>
                </div>
                <div class="row">
                    <div class="special-product-active owl-carousel" data-product-count="@Model.listHotSaleProduct.Count">
                        @foreach (var item in Model.listHotSaleProduct)
                        {
                            <div class="col-lg-12">
                                <!-- single-product-wrap start -->
                                <div class="single-product-wrap">
                                    <div class="product-image">
                                        <a href="~/Portal/Product/Details?id=@item.Id">
                                            <img src="@item.Image" alt="Li's Product Image" style="aspect-ratio: 16/9 !important;">
                                        </a>
                                        <span class="sticker">New</span>
                                    </div>
                                    <div class="product_desc">
                                        <a href="~/Portal/Product/Details?id=@item.Id">
                                            <div class="product_desc_info">
                                                <div class="product-review">
                                                    <h5 class="manufacturer">
                                                        <a href="shop-left-sidebar.html">Shop:@item.ShopName</a>
                                                    </h5>
                                                    <div class="rating-box">
                                                        <ul class="rating">
                                                            <li><span>@item.AverageRating</span>&nbsp;<i class="fa fa-star-o" style="font-size:17px"></i></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <h4><a class="product_name" href="single-product.html">@item.Name</a></h4>
                                                <div class="price-box">
                                                    @if (item.DiscountPercentage > 0)
                                                    {
                                                        <p class="mb-0">
                                                            <span class="new-price new-price-2">@Html.Raw(String.Format("{0:N0}", item.StartingPrice - item.DiscountFrom))đ</span>
                                                            @if (item.DiscountUpTo != null && item.DiscountUpTo > 0)
                                                            {
                                                                <span class="new-price new-price-2">- @Html.Raw(String.Format("{0:N0}", item.EndingPrice - item.DiscountUpTo))đ</span>
                                                            }
                                                        </p>

                                                        <p class="mb-0">
                                                            <span class="old-price">@Html.Raw(String.Format("{0:N0}", item.StartingPrice))đ</span>
                                                            @if (item.EndingPrice != null && item.EndingPrice > 0)
                                                            {
                                                                <span class="old-price"> - @Html.Raw(String.Format("{0:N0}", item.EndingPrice))đ</span>

                                                            }
                                                            <span class="discount-percentage">-@item.DiscountPercentage%</span>
                                                        </p>
                                                    }
                                                    else
                                                    {
                                                        <span class="new-price new-price-2">@Html.Raw(String.Format("{0:N0}", item.StartingPrice))đ</span>
                                                        if (item.EndingPrice > 0)
                                                        {
                                                            <span class="new-price new-price-2">- @Html.Raw(String.Format("{0:N0}", item.EndingPrice))đ</span>
                                                        }
                                                    }


                                                </div>

                                                <div class="countersection">
                                                    <div class="li-countdown" data-endtime="@(item.EndTime.HasValue ? item.EndTime.Value.ToString("yyyy/MM/dd HH:mm:ss") : "")">
                                                        <!-- The countdown timer will be injected here -->
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                        <div class="add-actions">
                                            <ul class="add-actions-link">
                                                <li class="add-cart active"><a href="#">Add to cart</a></li>
                                                <li><a class="links-details" href="wishlist.html"><i class="fa fa-heart-o"></i></a></li>
                                                <li><a href="#" title="quick view" class="quick-view-btn" data-toggle="modal" data-target="#exampleModalCenter"><i class="fa fa-eye"></i></a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <!-- single-product-wrap end -->
                            </div>
                        }


                    </div>
                </div>
            </div>
            <!-- Li's Section Area End Here -->
        </div>
    </div>
</section>
<!-- Li's Special Product Area End Here -->
<section class="product-area li-trending-product li-trending-product-2 pt-60 pb-45">
    <div class="container">
        <div class="row">
            <!-- Begin Li's Tab Menu Area -->
            <div class="col-lg-12">
                <div class="li-product-tab li-trending-product-tab">
                    <h2>
                        <span>Nhóm sản phẩm</span>
                    </h2>
                </div>
                <!-- Begin Li's Tab Menu Content Area -->
                <div class="tab-content li-tab-content li-trending-product-content">
                    <div id="home1" class="tab-pane show fade in active">
                        <div class="row">
                            <div class="product-active owl-carousel" data-product-count="@Model.listProductHome.Count">

                                @foreach (var group in Model.listGroupProduct)
                                {
                                    <div class="col-lg-12">
                                        <!-- single-product-wrap start -->
                                        <div class="single-product-wrap">
                                            <div class="product-image">
                                                <a href="single-product.html">
                                                    <img src="@group.image" alt="Li's Product Image">
                                                </a>
                                                <span class="sticker">New</span>
                                            </div>
                                            <div class="product_desc">
                                                <div class="product_desc_info">
                                                    <div class="product-review">
                                                        @*<h5 class="manufacturer">
                                                                <a href="shop-left-sidebar.html">@item.name</a>
                                                            </h5>*@
                                                        @*<div class="rating-box">
                                                                <ul class="rating">
                                                                    <li><i class="fa fa-star-o"></i></li>
                                                                    <li><i class="fa fa-star-o"></i></li>
                                                                    <li><i class="fa fa-star-o"></i></li>
                                                                    <li class="no-star"><i class="fa fa-star-o"></i></li>
                                                                    <li class="no-star"><i class="fa fa-star-o"></i></li>
                                                                </ul>
                                                            </div>*@
                                                    </div>
                                                    <h4><a class="product_name" href="single-product.html">@group.name</a></h4>
                                                </div>
                                                <div class="add-actions">
                                                    <ul class="add-actions-link">
                                                        <li><a class="links-details" href="wishlist.html"><i class="fa fa-heart-o"></i></a></li>
                                                        <li><a href="#" title="quick view" class="quick-view-btn" data-toggle="modal" data-target="#exampleModalCenter"><i class="fa fa-eye"></i></a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>

                </div>
                <!-- Tab Menu Content Area End Here -->
            </div>
            <!-- Tab Menu Area End Here -->
        </div>
    </div>
</section>
@foreach (var group in Model.listProductHome)
{


    <!-- Begin Li's Laptops Product | Home V2 Area -->
    <section class="product-area li-laptop-product li-laptop-product-2 pb-45">
        <div class="container">
            <div class="row">
                <!-- Begin Li's Section Area -->
                <div class="col-lg-12">
                    <div class="li-section-title">
                        <h2>
                            <span>@group.GroupName</span>
                        </h2>
                        @foreach (var type in group.listTypeProdctHome)
                        {
                            <ul class="li-sub-category-list">
                                <li class="active"><a href="shop-left-sidebar.html">@type.TypeName</a></li>
                            </ul>
                        }
                    </div>
                    @if (group.listAdvertisement.Count() > 0)
                    {
                        <div class="li-banner-2 pt-15">
                            <div class="row">

                                @foreach (var advertisement in group.listAdvertisement)
                                {
                                    <div class="col-lg-6 col-md-6">
                                        <div class="single-banner">
                                            <a href="#">
                                                <img src="@advertisement.Image" alt="Li's Static Banner">
                                            </a>
                                        </div>
                                    </div>
                                }

                            </div>
                        </div>
                    }

                    <div class="row">
                        <div class="product-active owl-carousel">
                            @foreach (var product in group.listProductHome)
                            {
                                <div class="col-lg-12">
                                    <!-- single-product-wrap start -->
                                    <div class="single-product-wrap">
                                        <div class="product-image">
                                            <a href="~/Portal/Product/Details?id=@product.Id">
                                                <img src="@product.Image" alt="Li's Product Image" style="aspect-ratio: 16/9 !important;">
                                            </a>
                                            <span class="sticker">New</span>
                                        </div>
                                        <div class="product_desc">
                                            <a href="~/Portal/Product/Details?id=@product.Id">
                                                <div class="product_desc_info">
                                                    <div class="product-review">
                                                            <h5 class="manufacturer">
                                                                <a href="shop-left-sidebar.html">Shop:@product.ShopName</a>
                                                            </h5>
                                                        <div class="rating-box">
                                                            <ul class="rating">
                                                                <li><span>@product.AverageRating</span>&nbsp;<i class="fa fa-star-o" style="font-size:17px"></i></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <h4><a class="product_name" href="single-product.html">@product.Name</a></h4>
                                                    <div class="price-box">
                                                        @if (product.DiscountPercentage > 0)
                                                        {
                                                            <p class="mb-0">
                                                                <span class="new-price new-price-2">@Html.Raw(String.Format("{0:N0}", product.StartingPrice - product.DiscountFrom))đ</span>
                                                                @if (product.DiscountUpTo != null && product.DiscountUpTo > 0)
                                                                {
                                                                    <span class="new-price new-price-2">- @Html.Raw(String.Format("{0:N0}", product.EndingPrice - product.DiscountUpTo))đ</span>
                                                                }
                                                            </p>

                                                            <p class="mb-0">
                                                                <span class="old-price">@Html.Raw(String.Format("{0:N0}", product.StartingPrice))đ</span>
                                                                @if (product.EndingPrice != null && product.EndingPrice > 0)
                                                                {
                                                                    <span class="old-price"> - @Html.Raw(String.Format("{0:N0}", product.EndingPrice))đ</span>

                                                                }
                                                                <span class="discount-percentage">-@product.DiscountPercentage%</span>
                                                            </p>
                                                        }
                                                        else
                                                        {
                                                            <span class="new-price new-price-2">@Html.Raw(String.Format("{0:N0}", product.StartingPrice))đ</span>
                                                            if (product.EndingPrice > 0)
                                                            {
                                                                <span class="new-price new-price-2">- @Html.Raw(String.Format("{0:N0}", product.EndingPrice))đ</span>
                                                            }
                                                        }



                                                    </div>

                                                </div>
                                            </a>

                                            <div class="add-actions">
                                                <ul class="add-actions-link">
                                                    <li class="add-cart active"><a href="#">Add to cart</a></li>
                                                    <li><a class="links-details" href="wishlist.html"><i class="fa fa-heart-o"></i></a></li>
                                                    <li><a href="#" title="quick view" class="quick-view-btn" data-toggle="modal" data-target="#exampleModalCenter"><i class="fa fa-eye"></i></a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- single-product-wrap end -->
                                </div>
                            }

                        </div>
                    </div>
                </div>
                <!-- Li's Section Area End Here -->
            </div>
        </div>
    </section>
}
<!-- Begin Li's Static Home Area -->
<div class="li-static-home">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <!-- Begin Li's Static Home Image Area -->
                <div class="li-static-home-image" style="background-image: url('@Url.Content(Model.advertisementHot.Image)'); background-size: cover; height: 400px; background-repeat: no-repeat;"></div>
                <!-- Li's Static Home Image Area End Here -->
                <!-- Begin Li's Static Home Content Area -->
                <div class="li-static-home-content">
                     @Html.Raw(Model.advertisementHot.Description)
                    <div class="default-btn">
                        <a href="shop-left-sidebar.html" class="links">Shopping Now</a>
                    </div>
                </div>
                <!-- Li's Static Home Content Area End Here -->
            </div>
        </div>
    </div>
    @*<div class="single-slide align-center-left animation-style-02 bg-4 " style="background-image: url('@Url.Content(banner.Image)')
                                        ;background-repeat: no-repeat;
                                        background-position: center center;
                                        background-size: cover;
                                        min-height: 475px;
                                        width: 100%;
                                ">
        <div class="slider-progress"></div>
        <div class="slider-content">
            @Html.Raw(banner.Description)
            <div class="default-btn slide-btn">
                <a class="links" href="shop-left-sidebar.html">Shopping Now</a>
            </div>
        </div>
    </div>*@
</div>
<!-- Li's Static Home Area End Here -->
<!-- Li's Laptops Product | Home V2 Area End Here -->


@section scripts {
    <script>
        $(document).ready(function () {
            $(".li-countdown").each(function () {
                var endTime = $(this).data("endtime");
                $(this).countdown(endTime, function (event) {
                    $(this).html(
                        event.strftime('<div class="count">%D <span>Days:</span></div> <div class="count">%H <span>Hours:</span></div> <div class="count">%M <span>Mins:</span></div><div class="count"> %S <span>Secs</span></div>')
                    );
                });
            });
        });


        $(document).ready(function () {
            // Get the product count from the data attribute
            var productCount = $('.special-product-active2').data('product-count');

            // Initialize Owl Carousel on the .special-product-active2 element
            $(".special-product-active2").owlCarousel({
                loop: false,  // Disable looping
                nav: false,
                dots: false,
                autoplay: false,
                autoplayTimeout: 5000,
                navText: ['<i class="fa fa-angle-left"></i>', '<i class="fa fa-angle-right"></i>'],
                items: productCount,  // Show all items
                responsive: {
                    0: {
                        items: productCount  // Show all items on small screens
                    },
                    480: {
                        items: productCount  // Show all items on small screens
                    },
                    768: {
                        items: productCount  // Show all items on tablets
                    },
                    992: {
                        items: productCount  // Show all items on desktops
                    },
                    1200: {
                        items: productCount  // Show all items on larger screens
                    }
                }
            });
        });



        $(document).ready(function () {
            // Get the product count from the data attribute
            var productCount = $('.product-active2').data('product-count');

            // Initialize Owl Carousel on the .special-product-active2 element
            $(".product-active2").owlCarousel({
                loop: true,
                nav: true,
                dots: false,
                autoplay: false,
                autoplayTimeout: 5000,
                navText: ['<i class="fa fa-angle-left"></i>', '<i class="fa fa-angle-right"></i>'],
                items: productCount,  // Show all items
                responsive: {

                    0: {
                        items: productCount
                    },
                    480: {
                        items: productCount
                    },
                    768: {
                        items: productCount
                    },
                    992: {
                        items: productCount
                    },
                    1200: {
                        items: productCount
                    }
                }
            });
        });




    </script>
}


